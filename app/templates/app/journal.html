{% extends 'app/base.html' %}
{% load app_extras %}

{% block title %}Details{% endblock %}

{% block content %}
<div style="display: flex; flex-direction: column; justify-content: center; width: fit-content; margin: 0 auto;">
	<h2 style="text-align: center;">{{pfl.name}}'s Portfolio</h2>

	{% journal_table pfl as jt %}
	<table class="opt">
		<thead>
			<tr class="tb-shade">
				<td>Date</td>
				<td>Transaction</td>
				<td>Debit</td>
				<td>Credit</td>
			</tr>
		</thead>
		<tbody>
			{% for transaction in jt.tbl %}
				<tr>
					{% for items in transaction %}
						<td>{{items}}</td>
					{% endfor %}
				</tr>
			{% endfor %}
			<tr class="tb-shade">
				<td></td>
				<td>Total:</td>
				<td>{{jt.dt}}</td>
				<td>{{jt.ct}}</td>
			</tr>
		</tbody>
	</table>

	<form class="opt" method="post" action="">
		{% csrf_token %}
		<select name="dbt">
			<option disabled="" selected="" value="">Select Debit Transaction type</option>
			<option value="asset">Asset</option>
			<option value="liability">Liability</option>
			<option value="capital">Capital</option>
			<option value="accounts receivable">Accounts Receivable</option>
			<option value="accounts payable">Accounts Payable</option>
			<option value="notes receivable">Notes Receivable</option>
			<option value="notes payable">Notes Payable</option>
		</select>
        <input type="number" name="dbt-amt" placeholder="Enter Debit amount...">
		<br>
		<select name="cdt">
			<option disabled="" selected="" value="">Select Credit Transaction type</option>
			<option value="asset">Asset</option>
			<option value="liability">Liability</option>
			<option value="capital">Capital</option>
			<option value="accounts receivable">Accounts Receivable</option>
			<option value="accounts payable">Accounts Payable</option>
			<option value="notes receivable">Notes Receivable</option>
			<option value="notes payable">Notes Payable</option>
		</select>
        <input type="number" name="cdt-amt" placeholder="Enter Credit amount...">
        <br>
        <input type="date" name="trans-date">
        <br>
		<input type="submit" name="save" value="Save">
	</form>

	<button onclick="window.location.href='/pfl-tb/pk={{pfl.id}}'">Trial Balance</button>
</div>
{% endblock %}