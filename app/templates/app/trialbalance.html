{% load app_extras %}
<!DOCTYPE hmtl>
<html>
    <head>
        <title>Trial Balance</title>
    </head>
    <body>
        <h1>{{name}}'s Trial Balance</h1>

        <table>
            <tr>
                <td>Transaction</td>
                <td>Debit</td>
                <td>Credit</td>
            </tr>
            {% for trans in tb %}
                <tr>
                    {% for item in trans %}
                        <td>{{item}}</td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </table>

        <br><br><br>

        <div id="trans-table"></div>
        <h2>LEAST FINAL SOLUTION: HAVE 2 TUPLE AND MAP EACH + AND - ON PUTTING 'EM</H2>

        <script>
                var tAccount = JSON.parse("{{ta|escapejs}}");
                dataNode = document.getElementById('trans-table');
                for(const trans in tAccount){
                    const transTable = document.createElement("table");
                    const transCaption = document.createElement("caption");
                    const transRow = document.createElement("tr");
                    const transDb = document.createElement("td");
                    const transCd = document.createElement("td");
                    transCaption.innerText = trans;
                    transDb.innerText = 'DEBIT';
                    transCd.innerText = 'CREDIT';
                    transRow.appendChild(transDb);
                    transRow.appendChild(transCd);
                    transTable.appendChild(transCaption);
                    transTable.appendChild(transRow);

                    tAccount[trans].forEach(data => {
                        const tableRow = document.createElement("tr");
                        const tableData = document.createElement("td");
                        tableData.innerText = data;
                        tableRow.appendChild(tableData);
                        transTable.append(tableData);
                    })

                    dataNode.appendChild(transTable);
                    spc = document.createElement("br");
                    dataNode.appendChild(spc);
                }
        </script>
    </body>
</html>